// out: ../App.css

@charset "utf-8";


@import "../../node_modules/bulma/sass/utilities/initial-variables";

@import './_lib.scss';


// import dark theme, tweaked from https://github.com/jenil/bulmaswatch/tree/gh-pages/superhero
@import "bulmaswatch/_variables";

// import Bulma
@import "../../node_modules/bulma/bulma.sass";

// fix bulma breaking dark theme, also pulled from superhero above
@import "bulmaswatch/_overrides";


// bulma additions

// sidebar
.menu {
  .menu-list {
    li {

      // give the a padding to any other non-a elm
      > * {
        padding: 0.5em 0.25em;
      }
      
      // better hover styling, since sidebar is same color as hover bg
      > a:hover {
        color: $white;
      }
    }

    // add auto-margin above anything that should stick to bottom
    &.stick-to-bottom {
      margin-top: auto;
    }
  }

  // for when things should stick to the bottom 
  &.has-bottom-child {
    display: flex;
    flex-direction: column;
  }

  // create a menu divider 
  .menu-divider {
    border-bottom: 2px solid $grey;
    padding: 0.25rem;
    margin: 0 0.5rem;
    margin-bottom: 0.25rem;
  }

}


// dropdown
.dropdown {

  // better hover on dropdown items
  .dropdown-item {
    &:hover {
      color: $white;
    }
  }
  
  // by default, sidenar and any dropdowns will use less than 1em. 
  // it's fine when standalone, but looks weird when together. this nukes that. 
  &.no-small-text *{
  font-size: inherit;
  }

  // dropdown opensto the right, instead of down
  &.is-right {
    position: relative;

    .dropdown-menu {
      position: absolute;
      left: 100%;
      top: 0;
      padding-left: 2rem;

      // shadows for sticking above content
      .dropdown-content {
        box-shadow: $shadow-1;
      }

      // force dropdown content to not wrap
      &.no-wrap {
        width: max-content;
      }
    }

    // include an .arrow elm with any icon you want, for a soft on-hover visual guide
    .dropdown-trigger .arrow {
      @include animate;
      opacity: 0;
      position: absolute;
      right: 0;
    }
    &:hover {
      .dropdown-trigger .arrow{
        opacity: 1;
      }
    }

    // dropdown opens sideways _and_ upwards!
    &.is-up {
      .dropdown-menu {
        bottom: 0;
        top: initial;
      }
    }
  }
}


///////////////////////////////////////////////

html, body, #root, .App {
  height: 100%;
  width: 100%;
}

.App {
  display: flex;
  flex-direction: row;
}


.MainSidebar {
  background: $grey-dark;
  min-width: 13rem; 
  padding: 1rem;
  font-size: 1.1rem; // slightly larger, as it's the main nav component
  height: 100%;

  .SidebarFreebie {
    margin: 0 0.5rem;
    position: relative;
    @include animate;
    
    &:hover {
      transform: scale(1.03);
      img {
        box-shadow: $shadow-3;
      }
    }

    .FreebiePrice {
      position: absolute;
      z-index: 9;
      top: -0.5rem;
      right: -0.5rem;
      background: $grey-darker;
      border-radius: 999px;
      font-size: 1rem;
      height: 3rem;
      width: 3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: $shadow-1;

      &:before {
        content: "$";

      }
    }

    img {
      border-radius: $radius;
      @include animate;
    }
  }
}





///////////////////////////////////////////////
// game lists - library, recents, etc
///////////////////////////////////////////////

.gameList {
  padding: 2rem;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(9rem, 1fr));

  // ugly 999 repeat to force min-content across all rows
  grid-template-rows: repeat(999, min-content); 
  grid-gap: 1.5rem;
  width: 100%;

  .gameCard {
    position: relative;
    overflow: hidden;
    border: none;
    @include animate;

    &:hover {
      box-shadow: $shadow-3;
      transform: scale(1.03);

      .card-content.bottomCard {
        opacity: 1;
      }
    }

    // this after is actually what sets the card size
    // https://medium.com/@Snehil_/creating-responsive-grids-of-flexible-square-cards-without-css-media-queries-3ee104f0e597
    &:after {
      content: "";
      display: block;
      padding-bottom: 125%;
    }
    

    // cardWrap needed, see link above
    .cardWrap {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
    }

    .gameLogo {
      padding: 0.5rem;
      position: absolute;
      top: 0.5rem;
    }


    .grayscale {
      & img {
        filter: grayscale(100%) brightness(0.33);
      }
      &.gameLogo {
        filter: grayscale(100%) brightness(0.66);
      } 
    }

    .card-image,
    figure.image,
    .image img {
      height: 100%;
      width: 100%;
      object-fit: cover;
    }
    

    .card-content {
      position: absolute;
      width: 100%;
      display: flex;
      padding: 0.5rem;
      align-items: center;
      justify-content: center;
      z-index: 9;

      &.topCard {
        top: 0;

      }

      &.bottomCard {
        height: 4rem;
        bottom: 0;
        opacity: 0;
        @include animate;
        background: $dark-transparent;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;

        .media-content {
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          
        }

        .playButton,
        .installButton {
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          @include animate;
          border-radius: 999px;

          .icon{
            @include animate;
          }

          // easiest way at 0046 to combine them into one without dupe text
          &.playButton:hover{
            box-shadow: 0px 0px 5px -1px transparentize($success, 0.33);
            filter: drop-shadow(0rem 0rem 0.4rem transparentize($success, 0.33));
            transform: scale(1.1);
          }
          &.installButton:hover{
            box-shadow: 0px 0px 5px -1px transparentize($info, 0.33);
            filter: drop-shadow(0rem 0rem 0.4rem transparentize($info, 0.33));
            transform: scale(1.1);
          }
        }
      }
    }
  }
}